{% extends 'base.html' %}

{% block content %}
<div class="card shadow-sm p-4">
    <h2 class="text-center">Mis Tr치mites</h2>

    <form method="GET" action="{% url 'lista_tramites' %}" class="mb-3">
        <div class="input-group">
            <input type="text" name="q" class="form-control" placeholder="Buscar tr치mite..." value="{{ query }}">
            <button type="submit" class="btn btn-primary">Buscar</button>
        </div>
    </form>

    <a href="{% url 'crear_tramite' %}" class="btn btn-success mb-3 w-100">Nuevo Tr치mite</a>

    <ul class="list-group">
        {% for tramite in tramites %}
        <li class="list-group-item d-flex justify-content-between align-items-center flex-column flex-sm-row">
            <span class="w-100 w-sm-75">{{ tramite.titulo }} - <strong>{{ tramite.get_estado_display }}</strong></span>
            <div class="d-flex gap-2 mt-2 mt-sm-0">
                <a href="{% url 'editar_tramite' tramite.pk %}" class="btn btn-warning btn-sm">Editar</a>
                <a href="{% url 'eliminar_tramite' tramite.pk %}" class="btn btn-danger btn-sm">Eliminar</a>
            </div>
        </li>
        {% empty %}
        <li class="list-group-item text-center">No se encontraron tr치mites.</li>
        {% endfor %}
    </ul>

</div>
{% endblock %}

